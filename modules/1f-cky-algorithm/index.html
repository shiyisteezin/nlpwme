<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/nlpwme/libs/katex/katex.min.css"> <link rel=stylesheet  href="/nlpwme/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/nlpwme/css/franklin.css"> <link rel=stylesheet  href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,400italic|Source+Code+Pro:400,700" type="text/css"> <link rel=stylesheet  href="/nlpwme/css/font-awesome.min.css"> <link rel=stylesheet  href="/nlpwme/css/celeste.min.css"> <link rel=icon  type="image/png" sizes=200x200  href="/nlpwme/assets/robot.png"> <link rel=icon  type="image/png" sizes=152x152  href="/nlpwme/assets/robot_smaller_152x152.png"> <link rel=icon  type="image/x-icon" sizes=64x64  href="/nlpwme/assets/robot_smaller_64x64.png"> <link rel=icon  type="image/x-icon" sizes=32x32  href="/nlpwme/assets/robot_smaller_32x32.png"> <link rel=icon  type="image/png" sizes=64x64  href="/nlpwme/assets/robot_smaller_64x64.png"> <link rel=icon  type="image/png" sizes=32x32  href="/nlpwme/assets/robot_smaller_32x32.png"> <title>NLPwShiyi | Natural Language Processing with Shiyi</title> <nav id=navbar  class=navigation  role=navigation > <input id=toggle1  type=checkbox  /> <label class=hamburger1  for=toggle1 > <div class=top ></div> <div class=meat ></div> <div class=bottom ></div> </label> <nav class="topnav mx-auto" id=myTopnav > <div class=dropdown > <button class=dropbtn >Comp Ling <i class="fa fa-caret-down"></i> </button> <div class=dropdown-content > <a href="/nlpwme/modules/1b-info-theory">Information Theory</a> <a href="/nlpwme/modules/1c-noisy-channel-model">The Noisy Channel Model</a> <a href="/nlpwme/modules/1d-finite-automata">FSAs and FSTs</a> <a href="/nlpwme/modules/1e-mutual-info">Mutual Information</a> <a href="/nlpwme/modules/1f-cky-algorithm">CKY Algorithm</a> <a href="/nlpwme/modules/1g-viterbi">Viterbi Algorithm</a> <a href="/nlpwme/modules/2b-markov-processes">Markov Processes</a> <a href="/nlpwme/modules/1h-semantics">Logic and Problem Solving</a> <a href="/nlpwme/modules/1j-bayesian">Bayesian Inference</a> </div> </div> <div class=dropdown > <button class=dropbtn  >ML / DL <i class="fa fa-caret-down"></i> </button> <div class=dropdown-content > <a href="/nlpwme/modules/2e-jax">Jacobian Matrices Derivation</a> <a href="/nlpwme/modules/2d-automatic-differentiation">Automatic Differentiation</a> <a href="/nlpwme/modules/2f-loss-functions">Stochastic GD</a> <a href="/nlpwme/modules/2c-word2vec">Word2Vec</a> <a href="/nlpwme/modules/2g-batchnorm">Batchnorm</a> <a href="/nlpwme/modules/2j-perplexity">Perplexity</a> <a href="/nlpwme/modules/2h-dropout">Dropout</a> <a href="/nlpwme/modules/2i-depth">Depth: Pros and Cons</a> <a href="/nlpwme/modules/2k-VAE">Variational Autoencoders</a> <a href="/nlpwme/modules/2l-dnns">DNNs(RNNs, CNNs, (Bi)-LSTM)</a> </div> </div> <a href="/nlpwme/" class=active >Intro </a> <div class=dropdown > <button class=dropbtn  >SOTA <i class="fa fa-caret-down"></i> </button> <div class=dropdown-content > <a href="/nlpwme/modules/3a-transformers"> GPT (Generative Pre-trained Transformer) </a> <a href="/nlpwme/modules/3b-xlnet"> XLNet (Generalized Autoregressive Pretraining) </a> <a href="/nlpwme/modules/3c-roberta"> RoBERTa (Robustly optimized BERT approach) </a> <a href="/nlpwme/modules/3d-t5"> T5 (Text-to-Text Transfer Transformer) </a> <a href="/nlpwme/modules/3e-clip"> CLIP (Contrastive Language-Image Pre-training) </a> </div> </div> <div class=dropdown > <button class=dropbtn  >Hands-on <i class="fa fa-caret-down"></i> </button> <div class=dropdown-content > <a href="/nlpwme/modules/4a-mlp-from-scratch">MLP from Scratch</a> <a href="/nlpwme/modules/4b-generative-adversarial-networks">GAN Example </a> <a href="/nlpwme/modules/4c-vae-mnist">VAE for MNIST</a> <a href="/nlpwme/modules/4d-bi-lstm-crf">BI-LSTM-CRF Seq2Seq</a> <a href="/nlpwme/modules/4e-c4fe-tbip">Measuring Subjectivity with VAE</a> <a href="/nlpwme/modules/4g-etl-job">Serverless ETL Example</a> <a href="/nlpwme/modules/4h-ocr-data-aug">OCR Text Augmentation</a> <a href="/nlpwme/modules/4i-neo4j-gql">Neo4j GQL Example</a> </div> </div> </nav> </nav> <script src="../assets/js/custom.js"></script> <div class=franklin-content ><h1 id=chomsky_hierarchy_cfg_and_cky_algorithm ><a href="#chomsky_hierarchy_cfg_and_cky_algorithm" class=header-anchor >Chomsky Hierarchy, CFG, and CKY Algorithm</a></h1> <p>According to Wikipedia, this algorithm is a parsing algorithm for <code>context-free grammars</code> published by Itiroo Sakai in 1961. The algorithm is named after its rediscoverers. It employs <code>bottom-up parsing</code> and <code>dynamic programming</code>.</p> <p>The standard version of the algorithm operates on context-free grammars given in <code>chomsky normal form &#40;CNF&#41;</code>. However any context-free grammar may be alagorithmically transformed into a CNF grammar expressing the same language.</p> <h3 id=the_pseudo-code_goes_as ><a href="#the_pseudo-code_goes_as" class=header-anchor >The Pseudo-code Goes As</a></h3> <pre><code class="julia hljs"><span class=hljs-keyword >let</span> the input be a string I consisting of n characters: a1 ... an.

<span class=hljs-keyword >let</span> the grammar contain r nonterminal symbols R1 ... Rr, with 
start symbol R1.

<span class=hljs-keyword >let</span> P[n,n,r] be an array of booleans. Initialize all elements of 
P to <span class=hljs-literal >false</span>.

<span class=hljs-keyword >let</span> back[n,n,r] be an array of lists of backpointing triples. 
Initialize all elements of back to the empty list.

<span class=hljs-keyword >for</span> each s = <span class=hljs-number >1</span> to n
    <span class=hljs-keyword >for</span> each unit production Rv → as
        set P[<span class=hljs-number >1</span>,s,v] = <span class=hljs-literal >true</span>

<span class=hljs-keyword >for</span> each l = <span class=hljs-number >2</span> to n :-- Length of span
    <span class=hljs-keyword >for</span> each s = <span class=hljs-number >1</span> to n-l+<span class=hljs-number >1</span> :-- Start of span
        <span class=hljs-keyword >for</span> each p = <span class=hljs-number >1</span> to l-<span class=hljs-number >1</span> :-- Partition of span
            <span class=hljs-keyword >for</span> each production Ra → Rb Rc
                <span class=hljs-keyword >if</span> P[p,s,b] and P[l-p ,s+p ,c] then
                    set P[l,s,a] = <span class=hljs-literal >true</span>, 
                    append &lt;p,b,c&gt; to back[l,s,a]

<span class=hljs-keyword >if</span> P[n,<span class=hljs-number >1</span>,<span class=hljs-number >1</span>] is <span class=hljs-literal >true</span> then
    I is member of language
    <span class=hljs-keyword >return</span> back :-- by retracing the steps through back, 
    one can easily construct all possible parse trees 
    of the string.
<span class=hljs-keyword >else</span>
    <span class=hljs-keyword >return</span> <span class=hljs-string >&quot;not a member of language&quot;</span></code></pre> <p>Here&#39;s a step-by-step breakdown of the pseudocode:</p> <p>Initialization:</p> <ul> <li><p>Initialize a boolean array <code>P&#91;n,n,r&#93;</code> and a list array <code>back&#91;n,n,r&#93;</code>.</p> <li><p>Set all elements of P to false.</p> <li><p>Set all elements of back to empty lists.</p> </ul> <p>Unit Productions:</p> <ul> <li><p>For each position s in the string &#40;from 1 to n&#41;:</p> <li><p>For each unit production of the form <code>Rv → as</code>:</p> <li><p>Set <code>P&#91;1, s, v&#93;</code> to true.</p> </ul> <p>Parsing:</p> <ul> <li><p>For each length of span l &#40;from 2 to n&#41;:</p> <li><p>For each starting position s &#40;from <code>1</code> to <code>n - l &#43; 1</code>&#41;:</p> <li><p>For each partition p of the span &#40;from <code>1</code> to <code>l - 1</code>&#41;:</p> </ul> <p>For each production of the form Ra → Rb Rc:</p> <ul> <li><p>If <code>P&#91;p, s, b&#93;</code> and <code>P&#91;l - p, s &#43; p, c&#93;</code> are both true:</p> <li><p>Set <code>P&#91;l, s, a&#93;</code> to true.</p> <li><p>Append the triple <code>&lt;p, b, c&gt;</code> to the list at <code>back&#91;l, s, a&#93;</code>.</p> </ul> <p><em>Result Check</em>:</p> <ul> <li><p>If <code>P&#91;n, 1, 1&#93;</code> is true, then the input string is a member of the language.</p> <li><p>Return the back array, which contains information for constructing parse trees.</p> </ul> <p><em>Result Reporting</em>:</p> <ul> <li><p>If the string is a member of the language, the algorithm returns the back array, allowing for the reconstruction of parse trees.</p> <li><p>If the string is not a member of the language, a corresponding message is returned.</p> </ul> <p>The CYK algorithm is a bottom-up parsing algorithm that can determine whether a given string belongs to a context-free language and construct parse trees for valid strings. The dynamic programming table &#40;P&#41; is used to store intermediate parsing results, and the back array is used for backtracking to construct parse trees.</p> <hr /> <h3 id=probabilistic_cyk_for_finding_the_most_probable_parse ><a href="#probabilistic_cyk_for_finding_the_most_probable_parse" class=header-anchor >Probabilistic CYK &#40;for finding the most probable parse&#41;</a></h3> <p>In informal terms, this algorithm considers every possible substring of the input string and sets <code>P&#91;l,s,v&#93;</code> to be true if the substring of length l starting from <code>s</code> can be generated from the nonterminal <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">R_{v}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>. Once it has considered substrings of length <code>1</code>, it goes on to substrings of length <code>2</code>, and so on.</p> <p>For substrings of length <code>2</code> and greater, it considers every possible partition of the substring into two parts, and checks to see if there is some production <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi><mtext> </mtext><mtext> </mtext><mi>C</mi></mrow><annotation encoding="application/x-tex">A\to B\; \ C</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mspace > </span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span> such that <code>B</code> matches the first part and <code>C</code> matches the second part. If so, it records A as matching the whole substring.</p> <p>Once this process is completed, the input string is generated by the grammar if the substring containing the entire input string is matched by the start symbol.</p> <hr /> <p><img src="../extras/info_theory/cky.gif" alt=cky  /></p> <hr /> <p>Now the sentence she eats a fish with a fork is analyzed using the CYK algorithm. In the following table, in <code>P&#91;i,j,k&#93;</code>, <code>i</code> is the number of the row &#40;starting at the bottom at <code>1</code>&#41;, and <code>j</code> is the number of the column &#40;starting at the left at <code>1</code>&#41;.</p> <pre><code class="plaintext hljs">S :-&gt; NP VP; VP :-&gt; VP PP 
VP :-&gt; V NP; VP :-&gt; EATS
PP :-&gt; P NP; NP :-&gt; DET N
NP :-&gt; SHE; V :-&gt; EATS; P :-&gt; WITH 
N :-&gt; FISH; N :-&gt; FORK; DET :-&gt; A</code></pre> <p>Now the sentence <code>she eats a fish</code> with a fork is analyzed using the CYK algorithm. In the following table, in <code>P&#91;i,j,k&#93;</code>, <code>i</code> is the number of the row &#40;starting at the bottom at <code>1</code>&#41;, and <code>j</code> is the number of the column &#40;starting at the left at <code>1</code>&#41;.</p> <hr /> <p><img src="../extras/info_theory/cky_table.png" alt=cky_tbl  /></p> <hr /> <h3 id=dynamic_programming ><a href="#dynamic_programming" class=header-anchor >Dynamic Programming</a></h3> <p>It&quot;s a very ubiquitous method of reducing the runtime algorithms by discovering solutions to subproblems along the way to the solution of the main problem; to optimally plan a multi-stage process</p> <div class=colbox-blue ><ul> <li><p>good for problems with overlapping subproblems</p> <li><p>generally involves the caching of partial results in a table for later retrieval</p> <li><p>many application &#40;outside of NLP&#41;</p> </ul></div> <h4 id=what_are_the_subproblems_for_the_parsing_task ><a href="#what_are_the_subproblems_for_the_parsing_task" class=header-anchor >What are the subproblems for the parsing task?</a></h4> <p>A <code>well-formed substring table is a data structure containing partial consitutency structures</code>. It may be represented as either a chart or a graph.</p> <p><em><strong>Example</strong></em></p> <blockquote> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant=bold >The</mtext><mtext> </mtext><mtext mathvariant=bold >brown</mtext><mtext> </mtext><mtext mathvariant=bold >dog</mtext><mspace linebreak=newline ></mspace><mspace linebreak=newline ></mspace><mo>:</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mo>−</mo><mspace linebreak=newline ></mspace><mspace linebreak=newline ></mspace><mtext>NP</mtext><mo>→</mo><mtext>DT</mtext><mtext> </mtext><mtext> </mtext><mtext>Nom</mtext><mspace linebreak=newline ></mspace><mtext>Nom</mtext><mo>→</mo><mtext>JJ</mtext><mtext> </mtext><mtext> </mtext><mtext>NN</mtext><mspace linebreak=newline ></mspace><mtext>DT</mtext><mo>→</mo><mtext> </mtext><mi>e</mi><mi>t</mi><mi>c</mi></mrow><annotation encoding="application/x-tex"> \textbf{The} \, \textbf{brown} \, \textbf{dog} \\ \\ :-------- \\ \\ \text{NP}\to \text{DT} \, \, \text{Nom} \\ \text{Nom}\to \text{JJ} \,\, \text{NN} \\ \text{DT}\to \, etc</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord textbf">The</span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord textbf">brown</span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord textbf">dog</span></span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:0.4306em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class=mord >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class=mord >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class=mord >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.6667em;vertical-align:-0.0833em;"></span><span class=mord >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord text"><span class=mord >NP</span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord text"><span class=mord >DT</span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord text"><span class=mord >Nom</span></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord text"><span class=mord >Nom</span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord text"><span class=mord >JJ</span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord text"><span class=mord >NN</span></span></span><span class="mspace newline"></span><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord text"><span class=mord >DT</span></span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.6151em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mord mathnormal">c</span></span></span></span> </blockquote> <p>Put into a chart,</p> <table><tr><th align=left >The<th align=left >Brown<th align=left >Dog<tr><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>DT</mtext><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\text{DT}_{1}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >DT</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><td align=left ><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>NP</mtext><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">\text{NP}_{5}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >NP</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><tr><td align=left ><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>JJ</mtext><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\text{JJ}_{2}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >JJ</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>Nom</mtext><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">\text{Nom}_{4}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >Nom</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><tr><td align=left ><td align=left ><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>NN</mtext><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">\text{NN}_{3}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >NN</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></table> <code>Numbers indicate order in which symbol was entered into table.</code> <div class=colbox-blue ><p><em><strong>Setting up the CKY algorithm</strong></em></p> <ul> <li><p>For an input of length&#61;n, crate a matrix <code>&#40;n &#43; 1 x n &#43; 1&#41;</code> indexed from 0 to <em>n</em>.</p> <li><p>Each cell in the matrix <code>&#91;i,j&#93;</code> is the set of all categories of constituents spanning from position <code>i</code> to <code>j</code>.</p> <li><p>The alforithm forces you to fill in the table in the most efficient way.</p> <li><p>Process cells left to right &#40;across columns&#41;, bottom to top &#40;backwards across rows&#41;.</p> </ul></div> <p><em><strong>CKY Assumptions</strong></em></p> <p><code>Critical observation</code>: any portion of the input string spanning <code>i</code> to <code>j</code> can be split at <code>k</code>, and structure can then be built using sub-solutions spanning <code>i</code> to <code>k</code> and sub-solutionts spanning <code>k</code> to <code>j</code>.</p> <blockquote> <p>•0 The •1 Brown •2 Dog •3</p> </blockquote> <div class=colbox-blue ><ul> <li><p>K &#61; 1: possible consitituents are <code>&#91;0,1&#93;</code> and <code>&#91;1,3&#93;</code></p> <li><p>K &#61; 2: possible constituent are <code>&#91;0,2&#93;</code> and <code>&#91;2,3&#93;</code></p> </ul></div> <h4 id=simple_grammar ><a href="#simple_grammar" class=header-anchor >Simple Grammar</a></h4> <pre><code class="julia hljs">S → NP VBZ; DT → the
S → NP VP; NN → chef
VP → VP PP; NNS → fish
VP → VBZ NP; NNS → chopsticks
VP → VBZ PP; VBP → fish
VP → VBZ NNS; VBZ → eats
VP → VBZ VP; IN → with
VP → VBP NP
VP → VBP PP
NP → DT NN
NP → DT NNS
PP → IN NP

•<span class=hljs-number >0</span> the •<span class=hljs-number >1</span> chef •<span class=hljs-number >2</span> eats •<span class=hljs-number >3</span> fish •<span class=hljs-number >4</span> with •<span class=hljs-number >5</span> the •<span class=hljs-number >6</span> chopsticks •<span class=hljs-number >7</span></code></pre> <hr /> <h5 id=lets_walk_through_this_in_an_example ><a href="#lets_walk_through_this_in_an_example" class=header-anchor >Let&#39;s Walk Through This In An Example</a></h5> <table><tr><th align=left >0<th align=left >1<th align=left >2<th align=left >3<th align=left >4<th align=left >5<th align=left >6<th align=left >7<tr><td align=left >0<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ></table> <p>First we need to build a table; build an <code>n &#43; 1 x n &#43; 1</code> matrix, where <code>n &#61; number</code> of words in input</p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left >chef 2<th align=left >eats 3<th align=left >fish 4<th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >&#91;0,1&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >&#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p>Illustrate the numbering of cells: <code>&#91;i,j&#93;</code>s represent spans.</p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left ><code>chef 2</code><th align=left >eats 3<th align=left >fish 4<th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left ><code>&#91;1,2&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ></table> <p>Notice how the spans &#40;e.g. <code>&#91;1,2&#93;</code>&#41; differ from the word indices &#40;e.g. <code>&quot;chef&quot;</code> , 2&#41;.</p> <hr /> <table><tr><th align=left >0<th align=left ><code>the 1</code><th align=left >chef 2<th align=left >eats 3<th align=left >fish 4<th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left ><code>DT &#91;0,1&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN &#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >&#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p><code>&quot;The&quot;</code> is labeled <code>DT</code></p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left ><code>chef 2</code><th align=left >eats 3<th align=left >fish 4<th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >DT &#91;0,1&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left ><code>NN &#91;1,2&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >&#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p><code>&quot;chef&quot;</code> is labelled <code>NN</code></p> <hr /> <table><tr><th align=left >0<th align=left ><code>the 1</code><th align=left ><code>chef 2</code><th align=left >eats 3<th align=left >fish 4<th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left ><code>DT &#91;0,1&#93;</code><td align=left ><code>NP &#91;0,2&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left ><code>NN &#91;1,2&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >&#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p>Found an <code>NP</code>: <code>&#91;0,1&#93;</code> ,<code>&#91;1,2&#93;</code></p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left >chef 2<th align=left ><code>eats 3</code><th align=left >fish 4<th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >DT &#91;0,1&#93;<td align=left >NP &#91;0,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN &#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left ><code>VBZ &#91;2,3&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p><code>&quot;eats&quot;</code> is labelled <code>VBZ</code></p> <hr /> <table><tr><th align=left >0<th align=left ><code>the1</code><th align=left ><code>chef2</code><th align=left ><code>eats3</code><th align=left >fish4<th align=left >with5<th align=left >the6<th align=left >chopsticks7<tr><td align=left >0<td align=left >DT &#91;0,1&#93;<td align=left ><code>NP &#91;0,2&#93;</code><td align=left ><code>S &#91;0,3&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN &#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left ><code>VBZ &#91;2,3&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p>Found an <code>S</code>: <code>&#91;0,2&#93;</code> ,<code>&#91;2,3&#93;</code></p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left >chef 2<th align=left >eats 3<th align=left >fish 4<th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >D　T&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left ><code>NNS&#91;3,4&#93;</code><td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p><code>&quot;fish&quot;</code> is lablled <code>NNS</code></p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left >chef 2<th align=left ><code>eats 3</code><th align=left ><code>fish 4</code><th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >D　T&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left ><code>VBZ &#91;2,3&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left ><code>NNS, VBP&#91;3,4&#93;</code><td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p><code>&quot;fish&quot;</code> is also labelled <code>VBP</code> because of the verb <code>&quot;eats&quot;</code> or <code>VBZ</code></p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left >chef 2<th align=left ><code>eats 3</code><th align=left ><code>fish 4</code><th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >D　T&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left ><code>VBZ &#91;2,3&#93;</code><td align=left ><code>VP&#91;2,4&#93;</code><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left ><code>NNS, VBP&#91;3,4&#93;</code><td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p>Found a <code>VP</code></p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left >chef 2<th align=left >eats 3<th align=left >fish 4<th align=left >with 5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left ><code>NP　&#91;0,2&#93;</code><td align=left >S　&#91;0,3&#93;<td align=left ><code>S&#91;0,4&#93;</code><td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><code>VP &#91;2,4&#93;</code><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p>Found an <code>S</code>: <code>&#91;0,2&#93;</code>,<code>&#91;2,4&#93;</code></p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left >chef 2<th align=left >eats 3<th align=left >fish 4<th align=left ><code>with 5</code><th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >DT &#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left >S&#91;0,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><code>IN &#91;4,5&#93;</code><td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p><code>&quot;with&quot;</code> is labelled <code>IN</code></p> <hr /> <table><tr><th align=left >0<th align=left >the1<th align=left >chef2<th align=left >eats3<th align=left >fish4<th align=left >with5<th align=left >the6<th align=left >chopsticks7<tr><td align=left >0<td align=left >&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left >S&#91;0,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><code>DT &#91;5,6&#93;</code><td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;6,7&#93;</table> <p><code>&quot;the&quot;</code> is labelled <code>DT</code></p> <hr /> <table><tr><th align=left >0<th align=left >the1<th align=left >chef2<th align=left >eats3<th align=left >fish4<th align=left >with5<th align=left >the 6<th align=left >chopsticks7<tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left >S &#91;0,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;5,6&#93;<td align=left ><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><code>NNS&#91;6,7&#93;</code></table> <p><code>&quot;chopsticks&quot;</code> is labelled <code>NNS</code></p> <hr /> <table><tr><th align=left >0<th align=left >the1<th align=left >chef2<th align=left >eats3<th align=left >fish4<th align=left >with5<th align=left ><code>the6</code><th align=left ><code>chopsticks7</code><tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left >S &#91;0,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >&#91;4,5&#93;<td align=left ><td align=left ><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><code>DT&#91;5,6&#93;</code><td align=left ><code>NP&#91;5,7&#93;</code><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><code>NNS&#91;6,7&#93;</code></table> <p>Found an <code>NP</code>: <code>&#91;5,6&#93;</code>, <code>&#91;6,7&#93;</code></p> <hr /> <table><tr><th align=left >0<th align=left >the 1<th align=left >chef 2<th align=left >eats 3<th align=left >fish 4<th align=left ><code>with5</code><th align=left ><code>the6</code><th align=left ><code>chopsticks7</code><tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left >S &#91;0,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><code>IN &#91;4,5&#93;</code><td align=left ><td align=left ><code>PP &#91;4,7&#93;</code><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >DT&#91;5,6&#93;<td align=left ><code>NP &#91;5,7&#93;</code><tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;6,7&#93;</table> <p>Found a <code>PP</code>: <code>&#91;4,5&#93;</code>, <code>&#91;5,7&#93;</code></p> <hr /> <table><tr><th align=left >0<th align=left >the1<th align=left >chef2<th align=left >eats3<th align=left ><code>fish4</code><th align=left ><code>with5</code><th align=left ><code>the6</code><th align=left ><code>chopsticks7</code><tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left >S &#91;0,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >NNS,<code>VPB&#91;3,4&#93;</code><td align=left ><td align=left ><td align=left ><code>VP &#91;3,7&#93;</code><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >IN &#91;4,5&#93;<td align=left ><td align=left ><code>PP &#91;4,7&#93;</code><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >DT&#91;5,6&#93;<td align=left >NP &#91;5,7&#93;<tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;6,7&#93;</table> <p>Found a <code>VP</code>: <code>&#91;3,4&#93;</code>, <code>&#91;4,7&#93;</code></p> <hr /> <table><tr><th align=left >0<th align=left >the1<th align=left >chef2<th align=left ><code>eats3</code><th align=left ><code>fish4</code><th align=left ><code>with5</code><th align=left ><code>the6</code><th align=left ><code>chopsticks7</code><tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left >S &#91;0,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left ><code>VBZ &#91;2,3&#93;</code><td align=left ><td align=left ><td align=left ><td align=left ><code>VP &#91;2,7&#93;</code><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >NNS, VPB&#91;3,4&#93;<td align=left ><td align=left ><td align=left ><code>VP &#91;3,7&#93;</code><tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >IN &#91;4,5&#93;<td align=left ><td align=left >PP &#91;4,7&#93;<tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >DT&#91;5,6&#93;<td align=left >NP &#91;5,7&#93;<tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;6,7&#93;</table> <p>Found a <code>VP</code>:<code>&#91;2,3&#93;</code>, <code>&#91;3,7&#93;</code></p> <hr /> <table><tr><th align=left >0<th align=left >the1<th align=left >chef2<th align=left ><code>eats3</code><th align=left >fish4<th align=left ><code>with5</code><th align=left ><code>the6</code><th align=left ><code>chopsticks7</code><tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left >NP　&#91;0,2&#93;<td align=left >S　&#91;0,3&#93;<td align=left >S &#91;0,4&#93;<td align=left ><td align=left ><td align=left ><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left ><code>VP &#91;2,4&#93;</code><td align=left ><td align=left ><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>VP</mtext><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\text{VP}_{1}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >VP</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>VP</mtext><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\text{VP}_{2}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >VP</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> <code>&#91;2,7&#93;</code><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >NNS, VPB&#91;3,4&#93;<td align=left ><td align=left ><td align=left >VP &#91;3,7&#93;<tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >IN &#91;4,5&#93;<td align=left ><td align=left ><code>PP &#91;4,7&#93;</code><tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >DT&#91;5,6&#93;<td align=left >NP &#91;5,7&#93;<tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;6,7&#93;</table> <p>Found another <code>VP</code>: <code>&#91;2,4&#93;</code>, <code>&#91;4,7&#93;</code></p> <hr /> <table><tr><th align=left >0<th align=left ><code>the1</code><th align=left ><code>chef2</code><th align=left ><code>eats3</code><th align=left >fish4<th align=left ><code>with5</code><th align=left ><code>the6</code><th align=left ><code>chopsticks7</code><tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left ><code>NP　&#91;0,2&#93;</code><td align=left >S　&#91;0,3&#93;<td align=left >S &#91;0,4&#93;<td align=left ><td align=left ><td align=left ><code>S &#91;0,7&#93;</code><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left >VP &#91;2,4&#93;<td align=left ><td align=left ><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>VP</mtext><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\text{VP}_{1}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >VP</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> <code>&#91;2,7&#93;</code>, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>VP</mtext><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\text{VP}_{2}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >VP</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >NNS, VPB&#91;3,4&#93;<td align=left ><td align=left ><td align=left >VP &#91;3,7&#93;<tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >IN &#91;4,5&#93;<td align=left ><td align=left >PP &#91;4,7&#93;<tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >DT&#91;5,6&#93;<td align=left >NP &#91;5,7&#93;<tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;6,7&#93;</table> <p>Found an <code>S</code> node: <code>&#91;0,2&#93;</code>, <code>&#91;2,7&#93;</code> &#40;where VP spans from <code>&#91;2,3&#93;</code>, <code>&#91;3,7&#93;</code>&#41;</p> <hr /> <table><tr><th align=left >0<th align=left ><code>the1</code><th align=left ><code>chef2</code><th align=left ><code>eats3</code><th align=left ><code>fish4</code><th align=left ><code>with5</code><th align=left ><code>the6</code><th align=left ><code>chopsticks7</code><tr><td align=left >0<td align=left >DT&#91;0,1&#93;<td align=left ><code>NP　&#91;0,2&#93;</code><td align=left >S　&#91;0,3&#93;<td align=left >S &#91;0,4&#93;<td align=left ><td align=left ><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>S</mtext><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\text{S}_{1}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >S</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>S</mtext><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\text{S}_{2}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >S</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> <code>&#91;0,7&#93;</code><tr><td align=left >1<td align=left ><td align=left >NN　&#91;1,2&#93;<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><tr><td align=left >2<td align=left ><td align=left ><td align=left >VBZ &#91;2,3&#93;<td align=left >VP &#91;2,4&#93;<td align=left ><td align=left ><td align=left ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>VP</mtext><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\text{VP}_{1}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >VP</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> &#91;2,7&#93;, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext>VP</mtext><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\text{VP}_{2}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord text"><span class=mord >VP</span></span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> <code>&#91;2,7&#93;</code><tr><td align=left >3<td align=left ><td align=left ><td align=left ><td align=left >NNS, VPB&#91;3,4&#93;<td align=left ><td align=left ><td align=left >VP &#91;3,7&#93;<tr><td align=left >4<td align=left ><td align=left ><td align=left ><td align=left ><td align=left >IN &#91;4,5&#93;<td align=left ><td align=left >PP &#91;4,7&#93;<tr><td align=left >5<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >DT&#91;5,6&#93;<td align=left >NP &#91;5,7&#93;<tr><td align=left >6<td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left ><td align=left >NNS&#91;6,7&#93;</table> <p>Found a second S node also <code>&#91;0, 2&#93;</code>, <code>&#91;2,7&#93;</code> &#40;where VP spans from <code>&#91;2,4&#93;</code> , <code>&#91;4,7&#93;</code>&#41;</p> <pre><code class="julia hljs">* Recognition algorithm returns <span class=hljs-string >`true`</span> when a root node is found <span class=hljs-keyword >in</span> <span class=hljs-string >`[0,n]`</span>.</code></pre>
<hr />
<h4 id=another_version_of_the_cky_algorithm_pseudo_code ><a href="#another_version_of_the_cky_algorithm_pseudo_code" class=header-anchor >Another Version of The CKY Algorithm Pseudo Code</a></h4>
<h5 id=cky_recognition ><a href="#cky_recognition" class=header-anchor >CKY Recognition</a></h5>
<ul>
<li><p>Returning the full parse requires storing more in a cell than just a node label.</p>

<li><p>We also require back-pointers to constituents of that node.</p>

<li><p>We could also store whole trees, but less space efficient.</p>

<li><p>For parsing, we must add an extra step to the algorithm.</p>

</ul>
<h5 id=cky_parsing ><a href="#cky_parsing" class=header-anchor >CKY Parsing</a></h5>
<pre><code class="julia hljs"><span class=hljs-keyword >function</span> CKY-Parse (words, grammar) returns parses
    <span class=hljs-keyword >for</span> j ← <span class=hljs-number >1</span> to length(words) <span class=hljs-keyword >do</span>: (loop over columns)
        table[j-<span class=hljs-number >1</span>,j] ← <span class=hljs-keyword >for</span> all {A|A → words[j] ∈ grammar} (add all POS)
        <span class=hljs-keyword >for</span> i ← j-<span class=hljs-number >2</span> downto <span class=hljs-number >0</span> <span class=hljs-keyword >do</span>: (loop over rows, backwards)
            <span class=hljs-keyword >for</span> k ← i+<span class=hljs-number >1</span> to j-<span class=hljs-number >1</span> <span class=hljs-keyword >do</span>: (loop over contents of cell)
                <span class=hljs-keyword >for</span> all {A|A → B C}: (all productions)
                back[i,j,A] ← { k,B,C } (add back pointer)
    <span class=hljs-keyword >return</span> buildtree(back[<span class=hljs-number >1</span>, length(words,S]), table[<span class=hljs-number >1</span>,LENGTH(words),S])
    (follow back pointer)</code></pre>
<h5 id=facts_about_cky_algo ><a href="#facts_about_cky_algo" class=header-anchor >Facts about CKY algo</a></h5>
<ul>
<li><p>The CKY can be performed in cubic time: <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy=false >(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class=mopen >(</span><span class=mord ><span class="mord mathnormal">n</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span>, where n&#61;number of words in sentence.</p>

<li><p>The complexity of the inner most loop is bounded by the square of the number of non-terminals.</p>

<li><p>The more rules, the less efficient; but this increases at a constant rate <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><msup><mi>r</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">L = r^2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.8141em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> where r is the number of non-terminal.</p>

<li><p>The basic algoritm requires a binary grammar, in fact a grammar in Chomsky Normal Form.</p>

<li><p>Basic algorithm can be extended to account for arbitrary <code>CFGs</code>.</p>

<li><p>However, transforming a grammar into a <code>CNF grammar</code> is easier and more efficient than parsing with an arbitrary grammar.</p>

<li><p>Later, we’ll look at the <code>Earley Algorithm</code> for parsing arbitrary CFGs.</p>

</ul>
<h5 id=chomsky_normal_form_grammar ><a href="#chomsky_normal_form_grammar" class=header-anchor >Chomsky Normal Form grammar</a></h5>
<ul>
<li><p>a context-free grammar where the <code>RHS</code> of each production rule is restricted to be either <code>two non-terminals</code> or <code>one terminal</code>, and no empty productions are allowed.</p>

</ul>
<h5 id=there_can_be ><a href="#there_can_be" class=header-anchor >There can be:</a></h5>
<ul>
<li><p>no mixed rules <code>&#40;NP → the NN&#41;</code></p>

<li><p>no unit productions &#40;<code>NP → NNP</code>&#41;, except for <code>NN → dog</code></p>

<li><p>no right hand sides of more than two non-terminals &#40;<code>VP → VBZ NP PP</code>&#41;.</p>

</ul>
<h5 id=grammar_equivalence ><a href="#grammar_equivalence" class=header-anchor >Grammar equivalence</a></h5>
<ul>
<li><p>Any CFG can be converted to a weakly equivalent grammar in <code>CNF</code>.</p>

<li><p><code>Weak equivalence</code>: Two grammars are weakly equivalent if they generate the same set of strings &#40;sentences&#41;. Transforming a grammar to <code>CNF</code> results in a new grammar that is weaklyequivalent.</p>

<li><p><code>Strong equivalence</code>: Two grammars are strongly equivalent if they generate the same set of strings AND the same structures over those strings. If only the variable names are diff. then the grammar are said to be isomorphic.</p>

</ul>
<h5 id=symbol_naming_conventions_-_x_bar_theory ><a href="#symbol_naming_conventions_-_x_bar_theory" class=header-anchor >Symbol Naming Conventions :- X Bar Theory</a></h5>
<ul>
<li><p>Use new symbols &#40;binarization&#41;: <code>X1, X2, . . . , Y3</code>: <code>S → NP VP PUNC</code> becomes: <code>S → NP X1</code>, <code>X1 → VP PUNC</code></p>

<li><p>Delete a symbol &#40;unary collapsing&#41;: <code>SBAR → S</code>, <code>S → NP VP</code> becomes <code>SBAR → NP VP</code></p>

</ul>
<h5 id=refer_to_nltk_tree_transforms_module ><a href="#refer_to_nltk_tree_transforms_module" class=header-anchor >Refer to NLTK tree transforms module:</a></h5>
<ul>
<li><p>Create new symbols from old &#40;binarization&#41;: <code>S → NP VP PUNC</code> becomes: <code>S → NP S|hVP-PUNCi</code>, <code>S|hVP-PUNCi → VP PUNC</code></p>

<li><p>Create new symbols from old &#40;unary collapsing&#41;: <code>SBAR → S</code>, <code>S → NP VP</code> becomes <code>SBAR&#43;S → NP VP</code></p>

</ul>
<h5 id=a_sample_of_cfg ><a href="#a_sample_of_cfg" class=header-anchor >A Sample of CFG</a></h5>
<pre><code class="julia hljs">S → NP VP PUNC (non-binary)
       S → S and S (mixed) 
        NP → DT NP (OK)
           NP → NN (unit production)
          NN → dog (OK)
          NN → cat (OK)
       VP → VBZ NP (OK)
          VP → VBZ (unit production)
      VBZ → sleeps (OK)
        VBZ → eats (OK)
          DT → the (OK)</code></pre>
<h5 id=conversion_of_cfg_to_cnf_step_1 ><a href="#conversion_of_cfg_to_cnf_step_1" class=header-anchor >Conversion of CFG to CNF: Step 1</a></h5>
<pre><code class="julia hljs">Non-CNF grammar|| CNF grammar   ||     Action
-------------- || ------------- || -------------- 
NP :-&gt; NN      ||               ||
NN :-&gt; dog     ||               ||
NN :-&gt; cat     ||               ||
               ||  NP :-&gt; dog   || (collapse rule)
               ||  NP :-&gt; cat   || (collapse rule)
VP :-&gt; VBZ     ||               ||
VBZ :-&gt; sleeps ||               ||
VBZ :-&gt; eats   || VP :-&gt; sleeps || (collapse rule)</code></pre>
<h5 id=conversion_of_cfg_to_cnf_step_2 ><a href="#conversion_of_cfg_to_cnf_step_2" class=header-anchor >Conversion of CFG to CNF: Step 2</a></h5>
<pre><code class="julia hljs">Non-CNF grammar|| CNF grammar ||    Action
-------------- || ----------- || ------------ 
S :-&gt; S and S  ||             ||
               || S :-&gt; S X1  || (new symbol)
               || X1 :-&gt; X2 S || (new symbol)
               || X2 :-&gt; and  ||</code></pre>
<h5 id=conversion_of_cfg_to_cnf_step_3 ><a href="#conversion_of_cfg_to_cnf_step_3" class=header-anchor >Conversion of CFG to CNF: Step 3</a></h5>
<pre><code class="julia hljs">Non-CNF grammar || CNF grammar    ||    Action
--------------  || -------------  || ------------ 
S :-&gt; NP VP PUNC||                ||
                || S  :-&gt; NP X3   || (new symbol)
                || X3 :-&gt; VP PUNC ||
NP :-&gt; DT NP    || NP :-&gt; DT NP   || (carry over)
VP :-&gt; VBZ NP   || VP :-&gt; VBZ NP  || (carry over)
DT :-&gt; the      || DT :-&gt; the     || (carry over)</code></pre>
<h5 id=finally_cfg_in_cnf ><a href="#finally_cfg_in_cnf" class=header-anchor >Finally CFG in CNF</a></h5>
<pre><code class="julia hljs">NP → dog S → NP X3
NP → cat X3 → VP PUNC
VP → sleeps NP → DT NP
VP → eats VP → VBZ NP
S → S X1 DT → the
X1 → X2 S
X2 → and</code></pre>
<div class=page-foot >
    <div class=copyright >
      <a href="https://github.com/shiyis/nlpwsys/tree/master"><b> This page is hosted on <img class=github-logo  src="https://unpkg.com/ionicons@5.1.2/dist/svg/logo-github.svg"></b></a>
       ©️ Last modified: December 04, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
    </div>
  </div>
  </div>
    
        



    
    
        <script src="/nlpwme/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>